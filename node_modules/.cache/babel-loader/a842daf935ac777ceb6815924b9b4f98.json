{"ast":null,"code":"import _objectSpread from \"/Users/ashish/Documents/kanbananza/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { backlog as defaultBacklog } from '../normalized-state';\n\nconst backlogReducer = (backlog = defaultBacklog, action) => {\n  console.log(backlog, action);\n\n  if (action.type == 'ADD_CARD') {\n    const _action$payload = action.payload,\n          listId = _action$payload.listId,\n          card = _action$payload.card;\n    delete backlog.cards[card.id];\n    let cardIds = backlog.cardIds.filter(value => value !== card.id);\n    let list = backlog.list.cards.filter(value => value.id !== card.id);\n    return {\n      cards: backlog.cards,\n      cardIds: cardIds,\n      list: {\n        cards: list,\n        id: backlog.list.id,\n        title: backlog.list.title\n      }\n    };\n  }\n\n  if (action.type === 'REMOVE_CARD') {\n    const _action$payload2 = action.payload,\n          listId = _action$payload2.listId,\n          card = _action$payload2.card;\n    const cardId = card.id;\n    const newCardObj = {\n      cardId: {}\n    };\n\n    const newCards = _objectSpread({}, backlog.cards, {\n      [cardId]: card\n    });\n\n    const cardIds = [...backlog.cardIds, card.id];\n    const list = {\n      cards: [...backlog.list.cards, card],\n      id: backlog.list.id,\n      title: backlog.list.title\n    };\n    return {\n      cards: newCards,\n      cardIds: cardIds,\n      list: list\n    };\n  }\n\n  return backlog;\n};\n\nexport default backlogReducer;","map":{"version":3,"sources":["/Users/ashish/Documents/kanbananza/src/reducers/backlog-reducer.js"],"names":["backlog","defaultBacklog","backlogReducer","action","console","log","type","payload","listId","card","cards","id","cardIds","filter","value","list","title","cardId","newCardObj","newCards"],"mappings":";AAAA,SAASA,OAAO,IAAIC,cAApB,QAA0C,qBAA1C;;AAEA,MAAMC,cAAc,GAAG,CAACF,OAAO,GAAGC,cAAX,EAA2BE,MAA3B,KAAsC;AAC3DC,EAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ,EAAqBG,MAArB;;AACA,MAAIA,MAAM,CAACG,IAAP,IAAe,UAAnB,EAA+B;AAAA,4BACJH,MAAM,CAACI,OADH;AAAA,UACrBC,MADqB,mBACrBA,MADqB;AAAA,UACbC,IADa,mBACbA,IADa;AAE7B,WAAOT,OAAO,CAACU,KAAR,CAAcD,IAAI,CAACE,EAAnB,CAAP;AACA,QAAIC,OAAO,GAAGZ,OAAO,CAACY,OAAR,CAAgBC,MAAhB,CAAuBC,KAAK,IAAIA,KAAK,KAAKL,IAAI,CAACE,EAA/C,CAAd;AACA,QAAII,IAAI,GAAGf,OAAO,CAACe,IAAR,CAAaL,KAAb,CAAmBG,MAAnB,CAA0BC,KAAK,IAAIA,KAAK,CAACH,EAAN,KAAaF,IAAI,CAACE,EAArD,CAAX;AACA,WAAO;AACLD,MAAAA,KAAK,EAAEV,OAAO,CAACU,KADV;AAELE,MAAAA,OAAO,EAAEA,OAFJ;AAGLG,MAAAA,IAAI,EAAE;AAAEL,QAAAA,KAAK,EAAEK,IAAT;AAAeJ,QAAAA,EAAE,EAAEX,OAAO,CAACe,IAAR,CAAaJ,EAAhC;AAAoCK,QAAAA,KAAK,EAAEhB,OAAO,CAACe,IAAR,CAAaC;AAAxD;AAHD,KAAP;AAKD;;AACD,MAAIb,MAAM,CAACG,IAAP,KAAgB,aAApB,EAAmC;AAAA,6BACRH,MAAM,CAACI,OADC;AAAA,UACzBC,MADyB,oBACzBA,MADyB;AAAA,UACjBC,IADiB,oBACjBA,IADiB;AAEjC,UAAMQ,MAAM,GAAGR,IAAI,CAACE,EAApB;AACA,UAAMO,UAAU,GAAG;AAAED,MAAAA,MAAM,EAAE;AAAV,KAAnB;;AACA,UAAME,QAAQ,qBAAQnB,OAAO,CAACU,KAAhB;AAAuB,OAACO,MAAD,GAAUR;AAAjC,MAAd;;AACA,UAAMG,OAAO,GAAG,CAAC,GAAGZ,OAAO,CAACY,OAAZ,EAAqBH,IAAI,CAACE,EAA1B,CAAhB;AACA,UAAMI,IAAI,GAAG;AACXL,MAAAA,KAAK,EAAE,CAAC,GAAGV,OAAO,CAACe,IAAR,CAAaL,KAAjB,EAAwBD,IAAxB,CADI;AAEXE,MAAAA,EAAE,EAAEX,OAAO,CAACe,IAAR,CAAaJ,EAFN;AAGXK,MAAAA,KAAK,EAAEhB,OAAO,CAACe,IAAR,CAAaC;AAHT,KAAb;AAMA,WAAO;AACLN,MAAAA,KAAK,EAAES,QADF;AAELP,MAAAA,OAAO,EAAEA,OAFJ;AAGLG,MAAAA,IAAI,EAAEA;AAHD,KAAP;AAKD;;AACD,SAAOf,OAAP;AACD,CAhCD;;AAkCA,eAAeE,cAAf","sourcesContent":["import { backlog as defaultBacklog } from '../normalized-state';\n\nconst backlogReducer = (backlog = defaultBacklog, action) => {\n  console.log(backlog, action);\n  if (action.type == 'ADD_CARD') {\n    const { listId, card } = action.payload;\n    delete backlog.cards[card.id];\n    let cardIds = backlog.cardIds.filter(value => value !== card.id);\n    let list = backlog.list.cards.filter(value => value.id !== card.id);\n    return {\n      cards: backlog.cards,\n      cardIds: cardIds,\n      list: { cards: list, id: backlog.list.id, title: backlog.list.title },\n    };\n  }\n  if (action.type === 'REMOVE_CARD') {\n    const { listId, card } = action.payload;\n    const cardId = card.id;\n    const newCardObj = { cardId: {} };\n    const newCards = { ...backlog.cards, [cardId]: card };\n    const cardIds = [...backlog.cardIds, card.id];\n    const list = {\n      cards: [...backlog.list.cards, card],\n      id: backlog.list.id,\n      title: backlog.list.title,\n    };\n\n    return {\n      cards: newCards,\n      cardIds: cardIds,\n      list: list,\n    };\n  }\n  return backlog;\n};\n\nexport default backlogReducer;\n"]},"metadata":{},"sourceType":"module"}